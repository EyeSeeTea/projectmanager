<!--   
   Copyright (c) 2015.
 
   This file is part of Project Manager.
 
   Project Manager is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
 
 Project Manager is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have
received a copy of the GNU General Public License along with Project Manager. If not, see
<http://www.gnu.org/licenses/>. -->

<form name="form_sync" ng-submit="submit_sync()" ng-hide="isOnline" novalidate>

    <div class="row container">
        <div class="form_group">
            <br />
            <button type="submit" ng-class="{disabled: resultVisible}" id="submit_sync" class="btn btn-primary">{{ 'SYNC' | translate }}</button>
        </div>
    </div>

    <br />
    <div class="row container">
        <div class="col-md-6" ng-show="syncStatus.visible">
            {{ 'UPDATING_CONFIGURATION' | translate }}
            <d2-progressbar-dynamic status="syncStatus"></d2-progressbar-dynamic>
        </div>
    </div>
    <div class="row container">
        <div class="col-md-6" ng-show="validationDataStatus.visible">
            {{ 'SENDING_DATA' | translate }}
            <d2-progressbar-dynamic status="validationDataStatus"></d2-progressbar-dynamic>
        </div>
    </div>
    <div class="row container">
        <p class="margin-left-30"><b>{{ 'LAST_SYNC_DATE' | translate }}:</b> {{sync_result_date | date:'yyyy-MM-dd HH:mm:ss Z'}}</p>
        <div ng-show="sync_result != undefined">
            <p class="margin-left-30"><b>{{ 'RESULT' | translate }}:</b> {{ sync_result | translate }}</p>
            <div ng-show="importCount != undefined" id="importSummary">
                <table>
                    <tr><td>{{ 'IMPORTED' | translate }}:</td><td>{{ importCount.imported }}</td></tr>
                    <tr><td>{{ 'UPDATED' | translate }}:</td><td>{{ importCount.updated }}</td></tr>
                    <tr><td>{{ 'DELETED' | translate }}:</td><td>{{ importCount.deleted }}</td></tr>
                    <tr><td>{{ 'IGNORED' | translate }}:</td><td>{{ importCount.ignored }}</td></tr>
                </table>
            </div>
        </div>
    </div>
</form>

<form name="form_validation" ng-submit="submitValidationRequest()" ng-show="isOnline" novalidate>
    <div class="form_group">
        <button type="submit" id="submitValidationRequest" class="btn btn-primary">{{ 'VALIDATION_REQUEST' | translate }}</button>
    </div>
    <div>
        <p>{{ 'LAST_VALIDATION_REQUEST_DATE' | translate }}: {{validation_date | date:'yyyy-MM-dd HH:mm:ss Z' }}</p>
    </div>
</form>

<div class="row col-md-8">
    <div ng-if="syncError" class="alert alert-danger" role="alert">
        <span>{{ syncError | translate:commonvariable }}</span>
    </div>
</div>